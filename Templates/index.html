{% load static %}
<!DOCTYPE html>
<html>
  <head>
      <!-- Bootstrap CSS -->
      <!-- Font Awesome -->
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no">
      <!-- Bootstrap core CSS -->
      <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
      <!-- Material Design Bootstrap -->
      <link href="{% static 'css/mdb.min.css' %}" rel="stylesheet">
      <!-- Your custom styles (optional) -->
      <link href="{% static 'css/style.min.css' %}" rel="stylesheet">
      <link href="{% static 'css/owl.carousel.min.css' %}" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Henny+Penny&display=swap" rel="stylesheet">
      <!-- Filters for Images and Videos -->
      <link rel="stylesheet" href="{% static 'css/dist/instagram.css' %}">
      <!-- Javascript -->
            <script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
            <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
            <!-- Bootstrap tooltips -->
            <script type="text/javascript" src="{% static 'js/popper.min.js' %}"></script>
            <!-- Bootstrap core JavaScript -->
            <script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
            <!-- MDB core JavaScript -->
            <script type="text/javascript" src="{% static 'js/mdb.min.js' %}"></script>
            <script type="text/javascript" src="{% static 'js/owl.carousel.min.js' %}"></script>

        <!-- Javascript -->

    <title>{% block head_title %}{% endblock %}</title>
    {% block extra_head %}
    {% endblock %}
  </head>
  <style>
       .text-inside{
            padding-left:2em;
            padding-top:1.25em;
            padding-bottom:1.25em;
            font-size:small;

             }
        body{
       overflow-x: hidden; /* Hide horizontal scrollbar */
       background-color:black;
       }

  </style>
  <body >
    {% block body %}

    {% if messages %}

        {% for message in messages %}
              <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                  {{ message }}
                   <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                  </button>
              </div>
        {% endfor %}


    {% endif %}
        <!-- .col- (extra small devices - screen width less than 576px)-->
        <!--.col-sm- (small devices - screen width equal to or greater than 576px)-->
        <!--.col-md- (medium devices - screen width equal to or greater than 768px)-->
        <!--.col-lg- (large devices - screen width equal to or greater than 992px)-->
        <!--.col-xl- (xlarge devices - screen width equal to or greater than 1200px)-->

    {% block Navbar1 %}
        <!-- Large Screen Navbar -->
        <nav class="navbar fixed-top navbar-expand-lg bg-white pt-0 pb-0 d-none d-sm-none d-md-block d-lg-block d-xl-block" >
            <div class="container ">
                 <div class="row  d-flex justify-content-start align-items-center w-100">
                     <div class="col-6 ">
                         <div class="row w-100 d-flex justify-content-start align-items-center">
                            <!-- Logo and Brand name -->
                            <a class="navbar-brand text-dark font-weight-bold" style="font-size:30px;font-family: Garamond, serif;">Holagrid</a>
                            <!-- Logo and Brand name -->

                        </div>
                     </div>
                     <div class="col-6 ">
                          <div class="row w-100 d-flex align-items-center justify-content-center">
                            <!-- Home -->
                             <a href="{% url 'Base:HomeView' %}" class="" ><img src="{% static 'img/home3.png' %}" height="25" width="25"></a>
                            <!-- Home -->
                            <!-- Explore -->
                             <a href="{% url 'Base:ExploreView' %}" class="ml-4"><i class="fas fa-globe" style="font-size: 25px;color:grey;"></i></a>
                            <!-- Explore -->
                            <!-- Chats -->
                            <a href="{% url 'Base:AllChats' %}" class="ml-4"><i class="far fa-comment-alt" style="font-size: 25px;color:black;"></i>
                                <span style="color:red;" class="font-weight-bold">{{Profile.Chatrooms.count}}</span>
                            </a>
                            <!-- Chats -->
                            <!-- Add Post -->
                             <a href="{% url 'Base:AddPost' %}" class="ml-4"><i class="fas fa-plus-square" style="font-size: 25px;color:grey;"></i></a>
                            <!-- Add Post -->

                            <!-- Profile -->
                             {% if Profile.Profile_Photo %}
                               <a href="{% url 'Base:ProfileView' request.user %}" class="ml-4 mr-5"> <img src="{{Profile.Profile_Photo.url}}" height="25" width="25" style="border-radius:50%;"></a>
                             {% else %}
                               <a href="{% url 'Base:ProfileView' request.user %}" class="ml-4 mr-5"> <img src="{% static 'img/user.png' %}" height="25" width="25" style="border-radius:50%;"></a>
                             {% endif %}
                             <!-- Profile -->
                          </div>
                     </div>
                </div>
            </div>
        </nav>
      <!-- Large Screen Navbar End -->
      <!-- Small Screen Navbar -->
        <nav class="navbar fixed-top navbar-expand-lg bg-white pt-1 pb-0 d-block d-sm-block d-md-none d-lg-none d-xl-none">
                 <div class="row  d-flex align-items-center">
                    <div class="col-9 pl-3 d-flex  justify-content-start align-items-center">
                        <a class="navbar-brand text-dark font-weight-bold" style="font-size:25px;font-family: Garamond, serif;">Holagrid</a>
                    </div>
                    <div class="col-3 d-flex justify-content-end pr-2">
                        <a href="{% url 'Base:AllChats' %}"><i class="far fa-comment-alt" style="font-size: 25px;color:black;"></i>
                        <span style="color:red;" class="font-weight-bold">{{Profile.Chatrooms.count}}</span>
                        </a>
                    </div>
                </div>
        </nav>
    <!-- Small Screen Navbar End -->
    {% endblock %}
    {% block content %}
    <!-- Large Screen Body -->
    <div class="container mt-5 pt-3 d-none d-lg-block d-sm-none d-md-block d-xl-block " style="display:block;">
     <div class="row">
         <div class="col-8">
             <div class="row mt-3 pt-3 pb-3 pl-4 bg-dark  w-100 border" style="overflow-y:hidden;flex-wrap:nowrap;">
                {% if Status %}
                      {% if Profile.Profile_Photo %}
                         <a href="{% url 'Base:StatusShow' Profile.user %}" style="position:relative;"> <img src="{{Profile.Profile_Photo.url}}" height="50" width="50" style="border:2px solid red;border-radius:50%;">
                         <small class="font-weight-normal text-white mt-2 " style="font-size:12px;overflow:hidden;white-space:nowrap;width:80px;text-overflow:ellipsis;display:block;">Your Story</small>
                         </a><br>
                        {% else %}
                         <a href="{% url 'Base:StatusShow' Profile.user %}" style="position:relative;"> <img src="{% static 'img/user.png' %}" height="50" width="50" style="border:2px solid red;border-radius:50%;">
                         <small class="font-weight-normal text-white mt-2 " style="font-size:12px;overflow:hidden;white-space:nowrap;width:80px;text-overflow:ellipsis;display:block;">Your Story</small>
                         </a><br>
                      {% endif %}
                {% else %}
                     {% if Profile.Profile_Photo %}
                     <a href="{% url 'Base:StatusView' %}" style="position:relative;"> <img src="{{Profile.Profile_Photo.url}}" height="50" width="50" style="border-radius:50%;">
                     <img class="" style="position:absolute;z-index:2;bottom:25px;left:35px;border-radius:50%;border:1px solid white;" src="{% static 'img/plus.png' %}" height="18" width="18">
                     <small class="font-weight-normal text-white mt-2 " style="font-size:12px;overflow:hidden;white-space:nowrap;width:80px;text-overflow:ellipsis;display:block;">Your Story</small>
                     </a><br>
                    {% else %}
                     <a href="{% url 'Base:StatusView' %}"  style="position:relative;"> <img src="{% static 'img/user.png' %}" height="50" width="50" style="border-radius:50%;">
                     <img style="position:absolute;z-index:2;bottom:25px;left:35px;border-radius:50%;border:1px solid white;" src="{% static 'img/plus.png' %}" height="15" width="15">
                     <small class="font-weight-normal text-white mt-2 " style="font-size:12px;overflow:hidden;white-space:nowrap;width:80px;text-overflow:ellipsis;display:block;">Your Story</small>
                     </a><br>
                    {% endif %}
                {% endif %}
                <!-- Other users Stories -->
                {% for Story in OtherStories %}
                         {% if Story.Profile_Photo %}
                         <a href="{% url 'Base:StatusShow' Story.user %}" class="ml-3" style="position:relative;"> <img src="{{Story.Profile_Photo.url}}" height="50" width="50" style="border:2px solid red;border-radius:50%;">
                          <small class="font-weight-normal text-white mt-2 " style="font-size:12px;overflow:hidden;white-space:nowrap;width:80px;text-overflow:ellipsis;display:block;">{{Story.username}}</small>
                         </a><br>
                        {% else %}
                         <a href="{% url 'Base:StatusShow' Story.user %}" class="ml-3" style="position:relative;"> <img src="{% static 'img/user.png' %}" height="50" width="50" style="border:2px solid red;border-radius:50%;">
                         <small class="font-weight-normal text-white mt-2 " style="font-size:12px;overflow:hidden;white-space:nowrap;width:80px;text-overflow:ellipsis;display:block;">{{Story.username}}</small>
                         </a><br>
                      {% endif %}
                {% endfor %}
                <!-- Other users Stories -->
            </div>
            <!-- Status Bar End-->
            <!-- Posts -->
            {% for Posts in AllPosts %}

                {% for post in Posts.all %}
                 <!-- Header -->
                 <div class="row border d-flex align-items-center pl-4 pt-2 pb-2 mt-3 justify-content-start w-100">
                     {% if post.user.Profile_Photo %}
                     <a href="{% url 'Base:ProfileView' post.user.username %}" ><img src="{{post.user.Profile_Photo.url}}" height="40" width="40" style="border-radius:50%;"></a>
                     {% else %}
                     <a href="{% url 'Base:ProfileView' post.user.username %}" ><img src="{% static 'img/user.png' %}" height="40" width="40" style="border-radius:50%;"></a>
                     {% endif %}
                     <a href="{% url 'Base:ProfileView' post.user.username %}" ><small class="pl-2 font-weight-bold text-white">{{post.user.user.username}}</small></a>
                 </div>
                 <!-- Header End -->
                  <!-- Body -->
                    <div id="Large{{post.slug}}" ondblclick="LikePost('{{post.slug}}')"  style="height:600px;" class="carousel slide row w-100 border bg-white" data-ride="carousel" data-interval="false">
                          <div class="carousel-inner">
                            <img src="{% static 'img/heart.png' %}" height="100" width="100" id="Heart_Large{{post.slug}}" style="position:absolute;z-index:2;margin-top:40%;margin-left:45%;">
                            {% if post.File1 %}
                              <div class="carousel-item active" style="position:relative;">
                                  {% if post.File1Type %}
                                     <img src="{% static 'img/play1.png' %}" class="pause" onclick="PausePlay1(['{{post.slug}}',1,this]);" height="100" width="100" id="Play1{{post.slug}}" style="position:absolute;z-index:1;top:0;left:0;right:0;bottom:0;margin:auto;">
                                     <video id="Play1Video{{post.slug}}" class="{{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',1,this]);" style="height:600px;width:100%;">
                                        <source src="{{post.File1.url}}" >
                                     </video>
                                   {% else %}
                                        <img class="d-block mini {{post.Filter}}" src="{{post.File1.url}}" style="height:600px;width:100%;object-fit:cover;" >
                                   {% endif %}
                              </div>
                            {% endif %}
                            {% if post.File2 %}
                              <div class="carousel-item " style="position:relative;">
                               {% if post.File2Type %}
                                    <img src="{% static 'img/play1.png' %}" height="100" width="100" id="Play2{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                     <video  class="  {{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',2,this]);" style="height:600px;width:100%;">
                                        <source  src="{{post.File2.url}}" >
                                     </video>
                                   {% else %}
                                    <img class="d-block mini {{post.Filter}}" src="{{post.File2.url}}" style="height:600px;width:100%;object-fit:cover;" >
                               {% endif %}
                             </div>
                            {% endif %}
                            {% if post.File3 %}
                               <div class="carousel-item " style="position:relative;">
                               {% if post.File3Type %}
                                   <img src="{% static 'img/play1.png' %}" height="100" width="100" id="Play3{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                     <video class="{{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',3,this]);" style="height:600px;width:100%;">
                                        <source src="{{post.File3.url}}" >
                                     </video>
                                   {% else %}
                                        <img class="d-block mini {{post.Filter}}" src="{{post.File3.url}}" style="height:600px;width:100%;object-fit:cover;" >
                               {% endif %}
                               </div>
                            {% endif %}
                             {% if post.File4 %}
                              <div class="carousel-item " style="position:relative;">
                               {% if post.File4Type %}
                                    <img src="{% static 'img/play1.png' %}" height="100" width="100" id="Play4{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                     <video  class=" {{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',4,this]);" style="height:600px;width:100%;">
                                        <source src="{{post.File4.url}}" >
                                     </video>

                                   {% else %}

                                        <img class="d-block mini {{post.Filter}}" src="{{post.File4.url}}"  style="object-fit:cover;height:600px;width:100%;">

                               {% endif %}
                              </div>
                            {% endif %}

                            {% if post.File5 %}
                              <div class="carousel-item " style="position:relative;">
                               {% if post.File5Type %}
                                    <img src="{% static 'img/play1.png' %}" height="100" width="100" id="Play5{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                     <video  class=" {{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',5,this]);" style="height:600px;width:100%;">
                                        <source src="{{post.File5.url}}" >
                                     </video>
                                   {% else %}

                                        <img class="d-block mini {{post.Filter}}" src="{{post.File5.url}}" style="object-fit:cover;height:600px;width:100%;" >

                               {% endif %}
                              </div>
                            {% endif %}

                            {% if post.File6 %}
                              <div class="carousel-item " style="position:relative;">
                               {% if post.File6Type %}
                                    <img src="{% static 'img/play1.png' %}" height="100" width="100" id="Play6{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                     <video  class="{{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',6,this]);" style="height:600px;width:100%;">
                                        <source src="{{post.File6.url}}" >
                                     </video>
                                   {% else %}
                                        <img class="d-block mini {{post.Filter}}" src="{{post.File6.url}}" style="object-fit:cover;height:600px;width:100%;" >
                               {% endif %}
                              </div>
                            {% endif %}

                            {% if post.File7 %}
                              <div class="carousel-item " style="position:relative;">
                               {% if post.File7Type %}
                                     <img src="{% static 'img/play1.png' %}" height="100" width="100" id="Play7{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                     <video  class="{{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',7,this]);" style="height:600px;width:100%;">
                                        <source src="{{post.File7.url}}" >
                                     </video>

                                   {% else %}

                                        <img class="d-block  mini {{post.Filter}}" src="{{post.File7.url}}" style="object-fit:cover;height:600px;width:100%;" >

                               {% endif %}
                              </div>
                            {% endif %}

                            {% if post.File8 %}
                              <div class="carousel-item " style="position:relative;">
                               {% if post.File8Type %}
                                    <img src="{% static 'img/play1.png' %}" height="100" width="100" id="Play8{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                     <video  class="  {{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',8,this]);" style="height:600px;width:100%;">
                                        <source src="{{post.File8.url}}" >
                                     </video>

                                   {% else %}

                                        <img class="d-block mini {{post.Filter}}" src="{{post.File8.url}}" style="object-fit:cover;height:600px;width:100%;" >

                               {% endif %}
                              </div>
                            {% endif %}

                            {% if post.File9 %}
                              <div class="carousel-item " style="position:relative;">
                               {% if post.File9Type %}
                                    <img src="{% static 'img/play1.png' %}" height="100" width="100" id="Play9{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                     <video  class="carousel-item  {{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',9,this]);" style="height:600px;width:100%;">
                                        <source src="{{post.File9.url}}" >
                                     </video>

                                   {% else %}

                                        <img class="d-block  mini {{post.Filter}}" src="{{post.File9.url}}" style="object-fit:cover;height:600px;width:100%;" >

                               {% endif %}
                              </div>
                            {% endif %}

                            {% if post.File10 %}
                              <div class="carousel-item " style="position:relative;">
                               {% if post.File10Type %}
                                    <img src="{% static 'img/play1.png' %}" height="100" width="100" id="Play10{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                     <video  class=" {{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',10,this]);" style="height:600px;width:100%;">
                                        <source src="{{post.File10.url}}" >
                                     </video>
                                   {% else %}
                                        <img class="d-block mini {{post.Filter}}" src="{{post.File10.url}}" style="object-fit:cover;height:600px;width:100%;" >
                               {% endif %}
                              </div>
                            {% endif %}

                          </div>
                           <a class="carousel-control-prev " href="#Large{{post.slug}}" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon " aria-hidden="true"></span>
                            <span><i class="fas fa-chevron-left"></i></span>
                            <span class="sr-only text-white">Previous</span>
                           </a>
                           <a class="carousel-control-next" href="#Large{{post.slug}}" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                             <span><i class="fas fa-chevron-right"></i></span>
                            <span class="sr-only ">Next</span>
                           </a>
                            <!--Indicators-->
                            <ol class="carousel-indicators" style="position:relative;bottom:0;margin:auto;">
                                <li data-target="#multi-item-example" data-slide-to="0" class="active " ></li>
                              {% if post.File2 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File3 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File4 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File5 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File6 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File7 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File8 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File9 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File10 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                            </ol>
                            <!--/.Indicators-->
                        </div>
                    <!-- Body End -->
                    <div class="border row justify-content-start w-100">
                    <!-- Post Middle -->
                        <div class="row pt-2 pb-2 d-flex w-100">
                            <a id="{{post.slug}}" onclick="LikePost('{{post.slug}}')" style="color:white;"><i class="far fa-heart pl-4 font-weight-normal" style="font-size:25px;"></i></a>
                            <a href="{% url 'Base:CommentView' post.slug %}" style="color:white;"><i class="far fa-comment pl-4" style="font-size:25px;"></i></a>
                        </div>
                    <!-- Post Middle End -->
                    <!-- Display Likes -->
                    <div class="row w-100 pl-4 " >
                        {% if post.Likes.count %}
                        <small id="display-likes-{{post.slug}}" class="text-white">Liked by <span class="font-weight-bold">{{post.Likes.first.user}}</span> and <a class="font-weight-bold " href="{% url 'Base:LikesView' post.slug %}">{{post.Likes.count}} others</a></small>
                        {% endif %}
                    </div>
                    <!-- Display Likes -->
                    <!-- Display Caption -->
                    <div class="row pl-4 ">
                        {% if post.Description %}
                            <small class="text-white"><span class="font-weight-bold">{{post.user.user.username}}</span> {{post.Description}}</small>
                        {% endif %}
                    </div>
                    <!-- Display Caption -->
                    <!-- Comments Section -->
                    <div class="row w-100 pl-4 ">
                        <div class="col pl-0">
                        {% if post.Comments.count %}
                        <a class="text-muted" href="{% url 'Base:CommentView' post.slug %}">View all {{post.Comments.count}} comments</a><br>

                            <small class="text-white"><span class="font-weight-bold">{{post.Comments.first.user.user.username}}</span> {{post.Comments.first.Comment}} </small> <br>
                            <small class="text-white"><span class="font-weight-bold">{{post.Comments.last.user.user.username}}</span> {{post.Comments.last.Comment}} </small><br>

                        {% endif %}
                        </div>
                    </div>
                    <!-- Comments Section -->
                    </div>

                {% endfor %}
                {% endfor %}
             <!-- If the user is a new User -->
             {% if New == 1 %}
                <h4 class="mt-5" style="white-space:pre;color:white;font-family: 'Times New Roman', Times, serif;">
                    Welcome to Holagrid.

                    Connect with new people.

                    Happy Connecting :)</h4>
             {% endif %}
             <!-- If the user is a new User -->
            <!-- Posts End -->
        </div>
        <div class="col-3 border bg-dark pt-3 " style="position:fixed;top:80px;right:12%;">
            <div class="row d-flex justify-content-center align-items-center">
                 {% if Profile.Profile_Photo %}
                   <a href="{% url 'Base:ProfileView' request.user %}" > <img src="{{Profile.Profile_Photo.url}}" style="border-radius:50%;height:80px;width:80px;"></a>
                 {% else %}
                   <a href="{% url 'Base:ProfileView' request.user %}" > <img src="{% static 'img/user.png' %}"   style="border-radius:50%;height:80px;width:80px;"></a>
                 {% endif %}
            </div>
            <div class="row d-flex justify-content-center align-items-center">
                <a href="{% url 'Base:ProfileView' request.user %}" style="color:white;"  onmouseover="this.style.textDecoration='underline';this.style.color='red'" onmouseout="this.style.textDecoration='none';this.style.color='white'"><h6 class="font-weight-bold" style="font-size:18px;">{{request.user.username}}</h6></a>
            </div>
            <div class="row  d-flex justify-content-center align-items-center">
                <h6 style="color:#cdd0d1;font-size:16px;">{{Profile.Profile_Name}}</h6>
            </div>
            <div class="row d-flex justify-content-center align-items-center mt-4">
                <div class="col-6 border" >
                    <h6 class="pt-2 text-center text-white">Following</h6>
                    <h6 class = "text-center text-white">{{Followings.count}}</h6>
                </div>
                <div class="col-6 border">
                    <h6 class="pt-2 text-center text-white">Followers</h6>
                    <h6 class = "text-center text-white">{{Followers.count}}</h6>
                </div>
            </div>
        </div>
    </div>
   </div>
    <!-- Large Screen Body -->
    <!-- Small Screen Block -->
    <!-- Status Bar -->
    <div class="container-fluid pl-0 pr-0 pt-0 m-0 d-block d-lg-none d-sm-block d-xl-none d-md-none" style="padding-bottom:400px;">
    <div class="row mt-5 pt-3 pl-3 " style="overflow-y:hidden;flex-wrap:nowrap;">
        {% if Status.count %}
              {% if Profile.Profile_Photo %}
                 <a href="{% url 'Base:StatusShow' Profile.user %}" class="pl-2" style="position:relative;"> <img src="{{Profile.Profile_Photo.url}}" height="50" width="50" style="border:2px solid red;border-radius:50%;">
                 <small class="font-weight-normal text-white mt-2 " style="font-size:12px;overflow:hidden;white-space:nowrap;width:70px;text-overflow:ellipsis;display:block;">Your Story</small>
                 </a><br>
                {% else %}
                 <a href="{% url 'Base:StatusShow' Profile.user %}" class="pl-2" style="position:relative;"> <img src="{% static 'img/user.png' %}" height="50" width="50" style="border:2px solid red;border-radius:50%;"><br>
                 <small class="font-weight-normal text-white mt-2 " style="font-size:12px;overflow:hidden;white-space:nowrap;width:70px;text-overflow:ellipsis;display:block;">Your Story</small>
                 </a>
              {% endif %}
        {% else %}
             {% if Profile.Profile_Photo %}
             <a href="{% url 'Base:StatusView' %}" class="pl-2" style="position:relative;"> <img src="{{Profile.Profile_Photo.url}}" height="50" width="50" style="border-radius:50%;"><br>
             <img class="" style="position:absolute;z-index:2;bottom:25px;left:35px;border-radius:50%;border:1px solid white;" src="{% static 'img/plus.png' %}" height="18" width="18">
             <small class="font-weight-normal text-white mt-2 " style="font-size:12px;overflow:hidden;white-space:nowrap;width:70px;text-overflow:ellipsis;display:block;">Your Story</small>
             </a><br>
            {% else %}
             <a href="{% url 'Base:StatusView' %}" class="pl-2" style="position:relative;"> <img src="{% static 'img/user.png' %}" height="50" width="50" style="border-radius:50%;">
             <img style="position:absolute;z-index:2;bottom:25px;left:35px;border-radius:50%;border:1px solid white;" src="{% static 'img/plus.png' %}" height="15" width="15">
             <small class="font-weight-normal text-white mt-2 " style="font-size:12px;overflow:hidden;white-space:nowrap;width:70px;text-overflow:ellipsis;display:block;">Your Story</small>
             </a><br>
            {% endif %}
        {% endif %}
        <!-- Other users Stories -->
        {% for Story in OtherStories %}
             {% if Story.Profile_Photo %}
             <a href="{% url 'Base:StatusShow' Story.user %}" class="ml-3" style="position:relative;"> <img src="{{Story.Profile_Photo.url}}" height="50" width="50" style="border:2px solid red;border-radius:50%;">
              <small class="font-weight-normal text-white mt-2 " style="font-size:12px;overflow:hidden;white-space:nowrap;width:70px;text-overflow:ellipsis;display:block;">{{Story.username}}</small>
             </a><br>
            {% else %}
             <a href="{% url 'Base:StatusShow' Story.user %}" class="ml-3" style="position:relative;"> <img src="{% static 'img/user.png' %}" height="50" width="50" style="border:2px solid red;border-radius:50%;">
             <small class="font-weight-normal text-white mt-2 " style="font-size:12px;overflow:hidden;white-space:nowrap;width:70px;text-overflow:ellipsis;display:block;">{{Story.username}}</small>
             </a><br>
          {% endif %}

        {% endfor %}
        <!-- Other users Stories -->
    </div>
    <!-- Status Bar End-->
    <!-- Posts -->
    <div id="Post" class="mt-2 h-100 w-100 d-block d-lg-none d-sm-block d-xl-none d-md-none ">
        {% for Posts in AllPosts %}
        {% for post in Posts.all %}
         <!-- Header -->
         <div class="row border d-flex align-items-center pl-3 pt-2 pb-2  justify-content-start">
             {% if post.user.Profile_Photo %}
             <a href="{% url 'Base:ProfileView' post.user.username %}" ><img src="{{post.user.Profile_Photo.url}}" height="40" width="40" style="border-radius:50%;"></a>
             {% else %}
             <a href="{% url 'Base:ProfileView' post.user.username %}" ><img src="{% static 'img/user.png' %}" height="40" width="40" style="border-radius:50%;"></a>
             {% endif %}
             <a href="{% url 'Base:ProfileView' post.user.username %}" ><small class="pl-2 font-weight-bold text-white">{{post.user.user.username}}</small></a>
         </div>
         <!-- Header End -->
          <!-- Body -->
            <div id="small{{post.slug}}" ondblclick="LikePost('{{post.slug}}')"  class="carousel slide w-100 border" style="height:50%;" data-ride="carousel" data-interval="false">
                  <div class="carousel-inner ">
                    <img src="{% static 'img/heart.png' %}" height="80" width="80" id="SHeart_Large{{post.slug}}" style="position:absolute;z-index:2;margin-top:35%;margin-left:40%;">
                    {% if post.File1 %}
                      <div class="carousel-item active" style="position:relative;">
                      {% if post.File1Type %}
                         <img src="{% static 'img/play1.png' %}" height="100" width="100" id="PlayS1{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                         <video  class="{{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',1,this]);" style="height:300px;width:100%;">
                            <source class=" " src="{{post.File1.url}}" >
                         </video>
                       {% else %}
                            <img class="d-block   mini {{post.Filter}}" src="{{post.File1.url}}" style="height:300px;width:100%;">
                       {% endif %}
                      </div>
                    {% endif %}

                    {% if post.File2 %}
                      <div class="carousel-item " style="position:relative;">
                          {% if post.File2Type %}
                                 <img src="{% static 'img/play1.png' %}" height="100" width="100" id="PlayS2{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                 <video  class="{{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',2,this]);" style="height:300px;width:100%;">
                                    <source class=" " src="{{post.File2.url}}" >
                                 </video>
                           {% else %}
                                <img class="d-block  mini {{post.Filter}}" src="{{post.File2.url}}" style="height:300px;width:100%;">
                           {% endif %}
                        </div>
                    {% endif %}
                    {% if post.File3 %}
                      <div class="carousel-item " style="position:relative;">
                           {% if post.File3Type %}
                                <img src="{% static 'img/play1.png' %}" height="100" width="100" id="PlayS3{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                 <video  class="{{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',3,this]);" style="height:300px;width:100%;">
                                    <source src="{{post.File3.url}}" >
                                 </video>
                               {% else %}
                                    <img class="d-block mini {{post.Filter}}" src="{{post.File3.url}}" style="height:300px;width:100%;" >
                           {% endif %}
                      </div>
                    {% endif %}

                     {% if post.File4 %}
                      <div class="carousel-item " style="position:relative;">
                           {% if post.File4Type %}
                                <img src="{% static 'img/play1.png' %}" height="100" width="100" id="PlayS4{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                 <video  class="{{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',4,this]);" style="height:300px;width:100%;">
                                    <source src="{{post.File4.url}}" >
                                 </video>

                               {% else %}

                                    <img class="d-block mini {{post.Filter}}" src="{{post.File4.url}}"  style="height:300px;width:100%;">

                           {% endif %}
                      </div>
                    {% endif %}

                    {% if post.File5 %}
                      <div class="carousel-item " style="position:relative;">
                           {% if post.File5Type %}
                                <img src="{% static 'img/play1.png' %}" height="100" width="100" id="PlayS5{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                 <video  class="{{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',5,this]);" style="height:300px;width:100%;">
                                    <source src="{{post.File5.url}}" >
                                 </video>

                               {% else %}

                                    <img class="d-block mini {{post.Filter}}" src="{{post.File5.url}}" style="height:300px;width:100%;">

                           {% endif %}
                      </div>
                    {% endif %}

                    {% if post.File6 %}
                      <div class="carousel-item " style="position:relative;">
                           {% if post.File6Type %}
                                <img src="{% static 'img/play1.png' %}" height="100" width="100" id="PlayS6{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                 <video  class=" {{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',6,this]);" style="height:300px;width:100%;">
                                    <source src="{{post.File6.url}}" >
                                 </video>

                               {% else %}

                                    <img class="d-block mini {{post.Filter}}" src="{{post.File6.url}}" style="height:300px;width:100%;">

                           {% endif %}
                      </div>
                    {% endif %}

                    {% if post.File7 %}
                      <div class="carousel-item " style="position:relative;">
                           {% if post.File7Type %}
                                <img src="{% static 'img/play1.png' %}" height="100" width="100" id="PlayS7{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                 <video  class=" {{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',7,this]);" style="height:300px;width:100%;">
                                    <source src="{{post.File7.url}}" >
                                 </video>

                               {% else %}

                                    <img class="d-block  mini {{post.Filter}}" src="{{post.File7.url}}" style="height:300px;width:100%;">

                           {% endif %}
                      </div>
                    {% endif %}

                    {% if post.File8 %}
                      <div class="carousel-item " style="position:relative;">
                       {% if post.File8Type %}
                            <img src="{% static 'img/play1.png' %}" height="100" width="100" id="PlayS8{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                             <video  class=" {{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',8,this]);" style="height:300px;width:100%;">
                                <source src="{{post.File8.url}}" >
                             </video>

                           {% else %}

                                <img class="d-block mini {{post.Filter}}" src="{{post.File8.url}}" style="height:300px;width:100%;">

                       {% endif %}
                      </div>
                    {% endif %}

                    {% if post.File9 %}
                      <div class="carousel-item " style="position:relative;">
                           {% if post.File9Type %}
                                <img src="{% static 'img/play1.png' %}" height="100" width="100" id="PlayS9{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                                 <video  class="{{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',9,this]);" style="height:300px;width:100%;">
                                    <source src="{{post.File9.url}}" >
                                 </video>

                               {% else %}

                                    <img class="d-block  mini {{post.Filter}}" src="{{post.File9.url}}" style="height:300px;width:100%;">

                           {% endif %}
                      </div>
                    {% endif %}

                    {% if post.File10 %}
                      <div class="carousel-item " style="position:relative;">
                       {% if post.File10Type %}
                            <img src="{% static 'img/play1.png' %}" height="100" width="100" id="PlayS10{{post.slug}}" style="position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;">
                             <video  class="{{post.Filter}}" onclick="this.paused ? this.play() : this.pause();PausePlay(['{{post.slug}}',10,this]);" style="height:300px;width:100%;">
                                <source src="{{post.File10.url}}" >
                             </video>

                           {% else %}

                                <img class="d-block mini {{post.Filter}}" src="{{post.File10.url}}" style="height:300px;width:100%;">

                       {% endif %}
                      </div>
                    {% endif %}

                  </div>
                   <a class="carousel-control-prev " href="#small{{post.slug}}" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon " aria-hidden="true"></span>
                   <span><i class="fas fa-chevron-left "></i></span>
                    <span class="sr-only ">Previous</span>

                  </a>
                   <a class="carousel-control-next" href="#small{{post.slug}}" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span><i class="fas fa-chevron-right mr-4"></i></span>
                    <span class="sr-only">Next</span>

                  </a>

                  <!--Indicators-->
                            <ol class="carousel-indicators" style="position:relative;bottom:0;margin:auto;">
                                <li data-target="#multi-item-example" data-slide-to="0" class="active " ></li>
                              {% if post.File2 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File3 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File4 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File5 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File6 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File7 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File8 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File9 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                              {% if post.File10 %}
                                <li data-target="#multi-item-example" data-slide-to="1"></li>
                              {% endif %}
                            </ol>
                            <!--/.Indicators-->

                </div>
            <!-- Body End -->
            <!-- Post Middle -->
                <div class="row pt-2 pb-2 d-flex ">
                    <a id="S{{post.slug}}" onclick="LikePost('{{post.slug}}')" style="color:white;"><i class="far fa-heart pl-4 font-weight-normal" style="font-size:25px;"></i></a>
                    <a href="{% url 'Base:CommentView' post.slug %}" style="color:white;"><i class="far fa-comment pl-4 " style="font-size:25px;"></i></a>
                </div>
            <!-- Post Middle End -->
            <!-- Display Likes -->
            <div class="row pl-4" >
                {% if post.Likes.count %}
                <small id="display-likes-{{post.slug}}" class="text-white">Liked by <span class="font-weight-bold">{{post.Likes.first.user}}</span> and <a class="font-weight-bold " href="{% url 'Base:LikesView' post.slug %}">{{post.Likes.count}} others</a></small>
                {% endif %}
            </div>
            <!-- Display Likes -->
            <!-- Display Caption -->
            <div class="row pl-4">
                {% if post.Description %}
                    <small class="text-white"><span class="font-weight-bold">{{post.user.user.username}}</span> {{post.Description}}</small>
                {% endif %}
            </div>
            <!-- Display Caption -->
            <!-- Comments Section -->
            <div class="row pl-4">
                <div class="col pl-0">
                {% if post.Comments.count %}
                <a class="text-muted" href="{% url 'Base:CommentView' post.slug %}">View all {{post.Comments.count}} comments</a><br>
                    <small class="text-white"><span class="font-weight-bold">{{post.Comments.first.user.user.username}}</span> {{post.Comments.first.Comment}} </small> <br>
                    <small class="text-white"><span class="font-weight-bold">{{post.Comments.last.user.user.username}}</span> {{post.Comments.last.Comment}} </small><br>
                {% endif %}
                </div>
            </div>
            <!-- Comments Section -->
        {% endfor %}
        {% endfor %}
        <!-- If the user is a new User -->
             {% if New == 1 %}
                <h5 class="mt-5" style="white-space:pre;color:white;font-family: 'Times New Roman', Times, serif;">
    Welcome to Holagrid.

    Connect with new people.

    Happy Connecting :)</h5>
             {% endif %}
             <!-- If the user is a new User -->

        </div>
    <!-- Posts End-->
    {% endblock %}
    {% block Navbar2 %}
    <!-- Small Screen Block End -->
        <!-- Small Screen Footer -->
        <nav class="navbar fixed-bottom navbar-expand-lg navbar-light bg-light pt-1 pb-0 d-block d-sm-block d-md-none d-lg-none d-xl-none">
            <div class="container d-flex justify-content-center align-items-center">
                 <div class="row w-100 pt-1 pb-1 ">
                     <div class="col pl-1">
                         <a href="{% url 'Base:HomeView' %}"><img src="{% static 'img/home3.png' %}" height="25" width="25"></a>
                     </div>
                     <div class="col pl-3">
                         <a href="{% url 'Base:ExploreView' %}"><i class="fas fa-globe text-dark" style="font-size: 25px;"></i></a>
                     </div>
                     <div class="col pl-3">
                         <a href="{% url 'Base:AddPost' %}"><i class="fas fa-plus-square text-dark" style="font-size: 25px;"></i></a>
                     </div>

                     <div class="col pl-3 pr-1">
                       {% if Profile.Profile_Photo %}
                         <a href="{% url 'Base:ProfileView' request.user %}"> <img src="{{Profile.Profile_Photo.url}}" height="30" width="30" style="border-radius:50%;"></a>
                        {% else %}
                         <a href="{% url 'Base:ProfileView' request.user %}"> <img src="{% static 'img/user.png' %}" height="30" width="30" style="border-radius:50%;"></a>
                        {% endif %}
                     </div>
                </div>
            </div>
        </nav>
    </div>
        <!-- Small Screen Footer End -->
        <script>
        </script>
    {% endblock %}
    {% endblock %}
    {% block extra_body %}
    <!-- SCRIPT FOR ASYNC -->
        <script>
             var room_name = '{{request.user.username}}';

             // create a new websocket
              var ws_scheme = window.location.protocol == "https:" ? "wss" : "ws";
                const chatSocket =new WebSocket(ws_scheme+'://'+window.location.host+'/'+room_name);

            //
            function PausePlay1(slug){
            if(slug[2].className=="pause"){
            $('#'+'Play'+slug[1]+slug[0]).fadeOut(2000);
            $('#'+'PlayS'+slug[1]+slug[0]).fadeOut(2000);
            $('#'+'Play1Video'+slug[0]).get(0).play();

            }
            else{
            $('#'+'Play'+slug[1]+slug[0]).show();
            $('#'+'PlayS'+slug[1]+slug[0]).show();
            }}

            // Function for hiding and displaying pause and play button on the video
            function PausePlay(slug){
            if(slug[2].paused==false){
            $('#'+'Play'+slug[1]+slug[0]).fadeOut(2000);
            $('#'+'PlayS'+slug[1]+slug[0]).fadeOut(2000);
            }
            else{
            $('#'+'Play'+slug[1]+slug[0]).show();
            $('#'+'PlayS'+slug[1]+slug[0]).show();
            }}

            function LikePost(data){
              // Change color of the buttons and display heart sign for 1 second
              $('#Heart_Large'+String(data)).show();
              $('#Heart_Large'+String(data)).fadeOut(3000);

              $('#SHeart_Large'+String(data)).show();
              $('#SHeart_Large'+String(data)).fadeOut(3000);

              if(document.querySelector('#'+String(data)).style.color==="red"){
                     document.querySelector('#'+String(data)).style.color="white";
              }
              else{
                     document.querySelector('#'+String(data)).style.color="red";
              }
              if(document.querySelector('#S'+String(data)).style.color==="red"){
                     document.querySelector('#S'+String(data)).style.color="white";
              }
              else{
                     document.querySelector('#S'+String(data)).style.color="red";
              }

              // We will send the message to the chat server we created
              chatSocket.send(JSON.stringify({
                'user':'{{request.user}}',
                'post_name':data
              }));
              };

            // SCRIPT TO CHANGE COLOR OF THE LIKE BUTTON

           // SCRIPT FOR LIKE BUTTON
            {% for Posts in AllPosts %}
             {% for post in Posts %}
            $('#Heart_Large{{post.slug}}').hide();
            $('#SHeart_Large{{post.slug}}').hide();
            var strarr = '{{post.Liked_by.all|join:","}}';
            var arr = strarr.split(",");
            if(arr.includes('{{Profile.user}}')){
            document.querySelector('#{{post.slug}}').style.color="red";
            document.querySelector('#S{{post.slug}}').style.color="red";
            }
           // SCRIPT FOR LIKE BUTTON END
            {% endfor %}
            {% endfor %}
             // Receive a message
            chatSocket.onmessage = function(e){
                const data = JSON.parse(e.data);}
        </script>
        <!-- SCRIPT FOR ASYNC END-->
    {% endblock %}
  </body>
</html>




