{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- base:css -->
  <link rel="stylesheet" href="{% static 'Dashboard/vendors/typicons/typicons.css' %}">
  <link rel="stylesheet" href="{% static 'Dashboard/vendors/css/vendor.bundle.base.css' %}">
  <!-- endinject -->
  <!-- plugin css for this page -->
  <!-- End plugin css for this page -->
  <!-- inject:css -->
  <link rel="stylesheet" href="{% static 'Dashboard/css/vertical-layout-light/style.css' %}">
    <script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
            <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
  <!-- endinject -->
</head>
<body>
{% if messages %}
        {% for message in messages %}
              <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                  {{ message }}
                   <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                  </button>
              </div>
        {% endfor %}
{% endif %}
<!-- Body -->
<div class="container ">
  <div class="row d-flex justify-content-center bg-white">
      <!-- Mobile Carousel -->
      <div style="margin-top:70px;position:relative;" class="d-none d-md-block">
        <img src="{% static 'img/png_insta.png' %}" height="510" style="position:relative;width:350px;">
        <div id="Login-mobile" class="carousel slide carousel-fade" data-ride="carousel" style="position:absolute;top:34px;right:66px;">
            <div class="carousel-inner " style="border-radius:20px;width:218px;">
                <div class="carousel-item active">
                    <img class=""  src="{% static 'img/New_Name3.jpg' %}"  style="min-height:437px;max-height:437px;width:218px" alt="First slide">
                </div>
                <div class="carousel-item ">
                    <img class="" src="{% static 'img/Insta1.jpg' %}"   style="min-height:437px;max-height:437px;width:218px" alt="Second slide">
                </div>
                <div class="carousel-item ">
                    <img class=""  src="{% static 'img/Now.jpg' %}"  style="min-height:437px;max-height:437px;width:218px" alt="Third slide">
                </div>
            </div>
        </div>
      </div>
      <!-- Mobile Carousel -->
      <div class="p-3 bg-white pb-5 " style="width:400px;border:1px solid #b5b5b5;margin-top:80px;">
        <h3 style="font-family:monospace;font-size:35px;font-weight:bold;text-align:center;margin-top:30px;color:#3d3a3a;">Holagrid</h3>
        <form method="post">
          {% csrf_token %}
          <div class="form-group mt-5">
            <input type="text" id="username" name="username" oninput="Validate()" class="form-control form-control-lg"  placeholder="Username" required>
                  <input type="number" value="{{phone}}" name="phone_number" class="form-control form-control-lg" hidden readonly  required>
              <h6 id="Avail"></h6>
          </div>
          <input type="hidden" name="next" value="{{ request.GET.next }}">
          <button class="btn btn-block btn-lg font-weight-medium auth-form-btn" style="background-color:#2c87e8;color:white;" type="submit" >Continue</button>
        </form>
      </div>
  </div>
</div>
<!-- Body End -->
<script>
    $("#username").keyup(function(){
    var text=$(this).val();
    $(this).val(text.replace(/[^A-Za-z]/g,''));
})

    var AllUsers = [];
    {% for users in All_users %}
      AllUsers.push('{{users.username}}');
    {% endfor %}

     var room_name = 'Signup2'
             // create a new websocket
                const chatSocket = new WebSocket(
                'ws://'+
                window.location.host+'/'+
                 room_name

                );
     function Validate(){
        username = document.querySelector('#username').value;
        var Sm = document.querySelector('#Avail');
        if(AllUsers.includes(username)){

        Sm.className="text-danger";
        Sm.innerHTML = "This Username in not Available";
        }
        else{
           Sm.className=" text-success";
          Sm.innerHTML = "Username is Available";
        } };
    </script>
  <!-- base:js -->
  <script src="{% static 'Dashboard/vendors/js/vendor.bundle.base.js' %}"></script>
  <!-- endinject -->
  <!-- inject:js -->
  <script src="{% static 'Dashboard/js/off-canvas.js' %}"></script>
  <script src="{% static 'Dashboard/js/hoverable-collapse.js' %}"></script>
  <script src="{% static 'Dashboard/js/template.js' %}"></script>
  <script src="{% static 'Dashboard/js/settings.js' %}"></script>
  <script src="{% static 'Dashboard/js/todolist.js' %}"></script>

  <!-- endinject -->
</body>
</html>
